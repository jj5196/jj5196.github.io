<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>佣兵传说HF</title>
  <style>
    :root{
      --bg:#0b0f19;--panel:#121828;--muted:#8590a3;--text:#e9eef7;--accent:#7cc4ff;--accent-2:#a58bff;--card:#0f1422;--border:#1c2440;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial; background:linear-gradient(180deg,#0a0e18 0%,#0c1326 100%); color:var(--text)}
    a{color:var(--accent);text-decoration:none}
    a:hover{opacity:.9}
    /* Top banner */
    .hero{position:relative; height:220px; display:flex; align-items:flex-end; justify-content:flex-start; padding:20px; border-bottom:1px solid var(--border); background: url('assets/banner_main.jpg') center/cover no-repeat;}
    .hero::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg,rgba(8,12,24,.2) 0%,rgba(8,12,24,.65) 60%, rgba(8,12,24,.9) 100%)}
    .hero-inner{position:relative; z-index:1}
    .title{font-size:28px; font-weight:800; letter-spacing:.3px}
    .subtitle{color:var(--muted)}

    /* Navbar */
    .nav{display:flex; gap:8px; padding:10px 16px; background:var(--panel); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:10}
    .tab{padding:10px 14px; border:1px solid var(--border); border-radius:12px; background:var(--card); color:var(--text); cursor:pointer; transition:.15s}
    .tab[aria-current="page"]{border-color:var(--accent); box-shadow:0 0 0 2px rgba(124,196,255,.15) inset}
    .tab:hover{transform:translateY(-1px)}

    /* Layout */
    .container{display:grid; grid-template-columns:280px 1fr; gap:16px; padding:16px; max-width:1200px; margin:0 auto}
    .sidebar{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:12px}
    .content{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:20px; min-height:420px}

    .side-title{font-weight:700; margin:4px 8px 8px}
    .side-list{list-style:none; margin:0; padding:4px}
    .side-item{margin:2px 0}

    .pill{display:block; padding:8px 10px; border-radius:10px; color:var(--text); border:1px solid transparent}
    .pill:hover{background:var(--card)}
    .pill[aria-current="true"]{background:rgba(124,196,255,.08); border-color:var(--accent)}

    .card{background:var(--card); border:1px solid var(--border); border-radius:14px; padding:16px; margin:12px 0}
    .kicker{color:var(--accent); text-transform:uppercase; font-weight:700; font-size:12px; letter-spacing:.12em}
    .h2{font-size:22px; margin:8px 0}
    .muted{color:var(--muted)}

    @media (max-width: 860px){
      .container{grid-template-columns:1fr}
      .sidebar{order:2}
    }
  </style>
</head>
<body>
  <!-- Top banner -->
  <header class="hero" role="banner" aria-label="Top banner">
    <div class="hero-inner">
      <div class="kicker">社区指南</div>
      <div class="title">佣兵传说热忠粉俱乐部</div>
<div class="subtitle">
  踩坑/实践经验 + 
  <a href="https://lapis.mgame.com/news/notice/" target="_blank" rel="noopener noreferrer">
    官网最新内容
  </a>
</div>    </div>
  </header>

  <!-- Tabs -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <button class="tab" data-section="events">活动</button>
    <button class="tab" data-section="getting-started">新手指南</button>
    <button class="tab" data-section="leveling">升级攻略</button>
    <button class="tab" data-section="equipments">装备</button>
    <button class="tab" data-section="pets">宠物</button>
    <button class="tab" data-section="materials">材料/物品</button>
  </nav>

  <!-- Main -->
  <main class="container">
    <aside class="sidebar" aria-label="Section navigation">
      <div class="side-title" id="side-title">Events</div>
      <ul class="side-list" id="side-list"></ul>
    </aside>

    <section class="content" id="content" aria-live="polite"></section>
  </main>

  <script>
    // --- Simple in-memory content store (edit these to maintain the site) ---
    const STORE = {
      "events": {
        sidebar: [
          { id:"summer-login", label:"夏日登录活动" },
          { id:"summer-game", label:"夏日游戏活动" },
          { id:"summer-special", label:"夏日特别活动" }
        ],
        pages: {
          "summer-login": {
                  title:`<a href="https://lapis.mgame.com/event/2025/summer_event/#event1" target="_blank">夏日登录活动</a>`,

  body: `\
<div class="card">
  <div class="kicker">活动一</div>
  <div class="h2">🌞 夏日登录活动</div>
  <p><b>期间：</b>2025/7/10–2025/9/11<br>
     <b>方式：</b>累计在线时间，找活动NPC领取对应奖励。</p>

  <table style="width:100%;border-collapse:collapse;font-size:14px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">累计在线</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">奖励（原文）</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">数量</th>
      </tr>
    </thead>
    <tbody>
      <tr><td style="padding:6px 4px">1 小时</td><td style="padding:6px 4px">출석복지</td><td style="padding:6px 4px">1</td></tr>
      <tr><td style="padding:6px 4px">3 小时</td><td style="padding:6px 4px">이벤트-모래시계상자</td><td style="padding:6px 4px">1</td></tr>
      <tr><td style="padding:6px 4px">5 小时</td><td style="padding:6px 4px">On-타임코인</td><td style="padding:6px 4px">1</td></tr>
      <tr><td style="padding:6px 4px">7 小时</td><td style="padding:6px 4px">썸머수정(E)</td><td style="padding:6px 4px">1</td></tr>
    </tbody>
  </table>

  <p class="muted" style="margin-top:8px">
    ※ “썸머수정(E)” 可在兑换NPC处换取以下物品：
  </p>

  <table style="width:100%;border-collapse:collapse;font-size:13px;margin-top:4px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:4px">物品名</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:4px">所需 썸머수정(E)</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:4px">效果</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:4px">备注</th>
      </tr>
    </thead>
    <tbody>
      <tr><td style="padding:4px">50 LP코인(1일)</td><td>1</td><td>使用时获得 50 LP点</td><td>发放为限时道具</td></tr>
      <tr><td style="padding:4px">쭈쭈바(3시간)(E)</td><td>3</td><td>穿着夏日泳装或鲨鱼泳装时经验获取率 +20%</td><td>发放为限时道具</td></tr>
      <tr><td style="padding:4px">여름수영복선택상자(E)</td><td>10</td><td>可选 1 件比基尼/鲨鱼泳装(3)</td><td>-</td></tr>
      <tr><td style="padding:4px">암네시안(B)</td><td>20</td><td>重置所有属性和技能点</td><td>-</td></tr>
      <tr><td style="padding:4px">금빛경험의모래시계(밀봉)(E)</td><td>30</td><td>获得 1 个金色经验沙漏(30日)</td><td>-</td></tr>
      <tr><td style="padding:4px">지옥5성변환주문서</td><td>50</td><td>将地狱 4 星武器/防具变为 5 星</td><td>-</td></tr>
      <tr><td style="padding:4px">불멸 6성 반지 변환권</td><td>60</td><td>将不灭 5 星戒指变为 6 星</td><td>-</td></tr>
      <tr><td style="padding:4px">블루폭스올렛(3단)(30일) 교환권</td><td>60</td><td>30 天使用蓝狐宠物</td><td>-</td></tr>
      <tr><td style="padding:4px">미끼(E)(밀봉)</td><td>3</td><td>获得 100 个 미끼(E)</td><td>每日每账号 1 次兑换</td></tr>
    </tbody>
  </table>
</div>

<div class="card">
  <div class="kicker">活动二</div>
  <div class="h2">💎 LP 点数获取加成日</div>
  <p>
    <b>期间：</b>2025/7/11 00:00 – 2025/8/27 23:59<br>
    <b>方式：</b>当日累计在线 <b>7 小时</b>，即可领取当日对应的 <b>LP 硬币</b> 与额外奖励（每账号每日 1 次）。
  </p>

  <table style="width:100%;border-collapse:collapse;font-size:14px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">日期/区间</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">奖励</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:6px 4px">7 月、8 月（工作日）</td>
        <td style="padding:6px 4px">300LP(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">7 月、8 月（周五/周六/周日）</td>
        <td style="padding:6px 4px">500LP(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">7/31</td>
        <td style="padding:6px 4px">500LP(1日) ×1，金色沙漏箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/1</td>
        <td style="padding:6px 4px">500LP(1日) ×1，스펙포션选择箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/2</td>
        <td style="padding:6px 4px">500LP(1日) ×1，金色沙漏箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/3</td>
        <td style="padding:6px 4px">500LP(1日) ×1，썸머수정(E) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/4</td>
        <td style="padding:6px 4px">500LP(1日) ×1，金色沙漏箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/5</td>
        <td style="padding:6px 4px">500LP(1日) ×1，스펙포션选择箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/6</td>
        <td style="padding:6px 4px">500LP(1日) ×1，썸머수정(E) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/7</td>
        <td style="padding:6px 4px">500LP(1日) ×1，스펙포션选择箱(1日) ×1</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">8/15</td>
        <td style="padding:6px 4px">500LP(1日) ×1，金色沙漏箱(1日) ×1</td>
      </tr>
    </tbody>
  </table>

  <ul class="muted" style="margin-top:8px">
    <li>发放的道具均为<strong>限时</strong>道具，未使用将过期消失。</li>
    <li>7/31–8/7 与 8/15 为特殊日程，当天<strong>不与“工作日/周末”奖励叠加</strong>，仅发放上表列出的奖励。</li>
    <li>奖励<strong>不可交易</strong>。</li>
    <li>金色沙漏箱(1日) → 开启可获得 <em>金色经验沙漏(1日)</em>；<br>
        스펙포션选择箱(1日) → 开启可任选 1 种 <em>属性药水(1日)</em>。</li>
  </ul>

</div>

<div class="card">
  <div class="kicker">活动三</div>
  <div class="h2">☀️ Hot Time Burning 特惠</div>
  <p>
    <b>期间：</b>长期有效（特殊加成时间见下表）<br>
    <b>方式：</b>活动 Hot Time 时段（每日 20:00–22:00）将获得经验和属性加成。
  </p>

  <table style="width:100%;border-collapse:collapse;font-size:14px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">区间</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">普通玩家</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">Luxury Premium 玩家</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:6px 4px">每日 20:00–22:00</td>
        <td style="padding:6px 4px">经验值 ×2</td>
        <td style="padding:6px 4px">经验值 ×2 + 物理/魔法攻击力 +3%</td>
      </tr>
      <tr>
        <td style="padding:6px 4px">2025/7/31 – 8/10<br>每日 20:00–22:00</td>
        <td style="padding:6px 4px">
          经验值 ×3<br>
          物理/魔法攻击力 +5%<br>
          物理/魔法防御力 +5%
        </td>
        <td style="padding:6px 4px">
          经验值 ×3<br>
          物理/魔法攻击力 +5%<br>
          物理/魔法防御力 +5%<br>
          额外 + 暴击伤害 +3%
        </td>
      </tr>
    </tbody>
  </table>

  <ul class="muted" style="margin-top:8px">
    <li>该活动加成效果不与其他活动 Buff 叠加（仅应用该活动加成）。</li>
    <li>Luxury Premium 玩家在活动基础效果上获得额外属性加成。</li>
  </ul>


</div>

<div class="card">
  <div class="kicker">链接</div>
  <p>
    官方活动页（韩文）： 
    <a href="https://lapis.mgame.com/event/2025/summer_event/#event1" target="_blank" rel="noopener noreferrer">
      https://lapis.mgame.com/event/2025/summer_event/#event1
    </a>
  </p>
  <p class="muted">说明：以上为中文速览，具体道具名称/数量/时间可能随版本调整，请以官网公告为准。</p>
</div>`},
          "summer-game": {
  title:"夏日游戏活动",
  body: `\
<div class="card">
  <div class="kicker">活动 1：夏日参鸡汤</div>
  <p><b>时间：</b>7/17 维护后 ~ 8/7 维护前<br>
  <b>内容：</b>使用参鸡汤可获得各种临时属性提升效果。<br>
  <a href="https://lapis.mgame.com/event/2025/summer_event/#event2" target="_blank">查看详情</a></p>
</div>

<div class="card">
  <div class="kicker">活动 2：特别 LP 商店</div>
  <p><b>时间：</b>7/24 维护后 ~ 9/11 维护前<br>
  <b>内容：</b>活动期间可使用 LP 点数在活动 NPC 处兑换道具。<br>
  <a href="https://lapis.mgame.com/event/2025/summer_event/#event2" target="_blank">查看详情</a></p>
</div>

<div class="card">
  <div class="kicker">活动 3：夏日怪物狩猎任务</div>
  <p><b>时间：</b>7/31 ~ 8/10<br>
  <b>内容：</b>狩猎怪物可收集“夏日狩猎票”，用于兑换奖励道具。<br>
  <a href="https://lapis.mgame.com/event/2025/summer_event/#event2" target="_blank">查看详情</a></p>
</div>

<div class="card">
  <div class="kicker">活动 4：光复节活动</div>
  <p><b>时间：</b>8/15 00:00 ~ 8/15 23:59<br>
  <b>内容：</b>当天可获得韩国光复节纪念 BUFF。<br>
  <a href="https://lapis.mgame.com/event/2025/summer_event/#event2" target="_blank">查看详情</a></p>
</div>

<div class="card">
  <div class="kicker">活动 5：黄金萝卜</div>
  <p><b>时间：</b>9/4 维护后 ~ 9/11 维护前<br>
  <b>内容：</b>活动期间参与任务可获得黄金萝卜道具兑换奖励。<br>
  <a href="https://lapis.mgame.com/event/2025/summer_event/#event2" target="_blank">查看详情</a></p>
</div>`
},
          "summer-special": {
            title:"夏日特别活动",
            body: `\
<div class="card">
  <div class="kicker">活动 1</div>
  <div class="h2">波塞冬衣装制作</div>
  <p><b>时间：</b>7/24 维护后 ~ 9/11 维护前<br>
     <b>内容：</b>通过时装设计 NPC，使用 <em>波塞冬图案(E)</em> + <em>波塞冬硬币(E)</em> + <em>金色硬币</em> + <em>5000万金币</em> 等材料，制作 <b>波塞冬衣装(基础)(1周)</b>（帽子/上衣/鞋/武器其一）。</p>
  <table style="width:100%;border-collapse:collapse;font-size:14px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">成品</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">材料(示例)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:6px 4px">波塞冬衣装(基础)(1周)(任意部位)</td>
        <td style="padding:6px 4px">对应部位的波塞冬图案(E) ×1 + 波塞冬硬币(E) ×100 + 金色硬币 ×10 + 5,000万金币</td>
      </tr>
    </tbody>
  </table>
  <p class="muted">※ 衣装为限时/账号绑定；套装效果仅在穿齐对应部位时生效。详细以官网为准。</p>
</div>

<div class="card">
  <div class="kicker">活动 2</div>
  <div class="h2">夏日特别掉落机会</div>
  <p><b>时间：</b>7/24 维护后 ~ 8/13 维护前<br>
     <b>内容：</b>指定野外地图击杀怪物，有机会获得活动道具（分两段期间，掉落清单不同）。</p>
  <ul>
    <li><b>地图：</b>塞尔维斯森林、马凯城 1层、马凯城 2层</li>
    <li><b>掉落示例（7/24~8/7）：</b>选材箱、莫雷科箱、LP 1000 硬币 等</li>
    <li><b>掉落示例（8/7~8/13）：</b>远征骑士臂铠、红色勋章、宫殿的宝玉、维鲁埃里特、初始宝石 等</li>
  </ul>
  <p class="muted">※ 每账号每日上限；活动道具多为账号绑定；掉落受“狩猎票/时段”限制，请以公告为准。</p>
</div>

<div class="card">
  <div class="kicker">活动 3</div>
  <div class="h2">萨戈托港口特别钓鱼</div>
  <p><b>时间：</b>8/13 维护后 ~ 9/11 维护前<br>
     <b>内容：</b>在萨戈托港使用活动鱼饵参与钓鱼，累计 <b>积分</b> 可拿到每周/活动期奖励与排名奖励。</p>
  <table style="width:100%;border-collapse:collapse;font-size:14px">
    <thead>
      <tr>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">可购道具</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">价格</th>
        <th style="text-align:left;border-bottom:1px solid #1c2440;padding:6px 4px">说明</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:6px 4px">钓鱼入场/鱼饵(多种)</td>
        <td style="padding:6px 4px">LP/金币</td>
        <td style="padding:6px 4px">提升命中/稀有几率或可钓长度上限等（按道具不同）</td>
      </tr>
    </tbody>
  </table>
  <p><b>每周/活动期奖励（摘选）：</b>“传说钓鱼称号(30日)”、黄金(5只)、豪华票券 等；<br>
     <b>排名奖励：</b>按积分排名 1~3 名发放称号、宠物/票券等（以公告表为准）。</p>
  <p class="muted">※ 钓鱼记录按长度/重量记分；违规/异常将取消资格；详细积分与奖励以官网表格为准。</p>
</div>

<div class="card">
  <div class="kicker">链接</div>
  <p>官方页面：<a href="https://lapis.mgame.com/event/2025/summer_event/#event3" target="_blank" rel="noopener noreferrer">夏日特别活动（#event3）</a></p>
  <p class="muted">说明：以上为中文速览，配方/材料数量/奖励清单可能调整，请以官网公告为准。</p>
</div>`
          }
        }
      },
      "getting-started": {
        sidebar: [
          { id:"install", label:"Install & Accounts" },
          { id:"naver", label:"Naver Café Access" },
          { id:"ui", label:"UI & Key NPCs" },
          { id:"daily", label:"Daily/Weekly Checklist" }
        ],
        pages: {
          "install": {
            title:"Install & Accounts",
            body: `<p>Step-by-step install notes, region tips, and first login checklist.</p>`
          },
          "naver": {
            title:"Naver Café Access",
            body: `<p>How to join the café, common errors (\"Download failed\"), and VPN notes.</p>`
          },
          "ui": {
            title:"UI & Key NPCs",
            body: `<p>Screenshots of Pet Exchange NPC, Magic Shop, Event vendors.</p>`
          },
          "daily": {
            title:"Daily/Weekly Checklist",
            body: `<ul><li>Daily Cubes (table link)</li><li>Gold Chess Room (Tue/Fri/Sat/Sun)</li><li>Gift Shop limits</li></ul>`
          }
        }
      },
      "leveling": {
        sidebar: [
          { id:"lv76", label:"Lv 76 Jewelry" },
          { id:"lv86", label:"Lv 86 Jewelry" },
          { id:"lv100", label:"Lv 100 Jewelry" },
          { id:"lv110", label:"Lv 110 Jewelry" }
        ],
        pages: {
          "lv76": { title:"Level 76 Necklace & Ring", body:"<p>How to obtain, sources, screenshots.</p>" },
          "lv86": { title:"Level 86 Necklace & Ring", body:"<p>Methods and tips.</p>" },
          "lv100": { title:"Level 100 Necklace & Ring", body:"<p>Hell 6★ accessory set basics; typical prices fluctuate.</p>" },
          "lv110": { title:"Level 110 Necklace & Ring", body:"<p>Where to get, market ranges, and requirements.</p>" }
        }
      },
      "equipments": {
        sidebar: [
          { id:"raikeln", label:"Raikeln Set" },
          { id:"element-gear", label:"Elemental Gear & 2★" },
          { id:"yolla", label:"Yolla 2★" },
          { id:"engraving", label:"Engraving & Protection" }
        ],
        pages: {
          "raikeln": { title:"Raikeln Set", body:"<p>2/3/4-piece bonuses and where to get each piece.</p>" },
          "element-gear": { title:"Elemental Gear & 2★", body:"<p>Conversion tickets and reset caveats.</p>" },
          "yolla": { title:"Yolla 2★", body:"<p>Class-specific picks and costs.</p>" },
          "engraving": { title:"Engraving & Lower-Stat Protection", body:"<p>When to lock stats and how much Lapis it costs.</p>" }
        }
      },
      "pets": {
        sidebar: [
          { id:"constellation", label:"Constellation Pets" },
          { id:"spirit", label:"Spirit Pets (Fusion)" },
          { id:"event", label:"Event/Gift Shop Pets" }
        ],
        pages: {
          "constellation": { title:"Constellation Pets", body:"<p>Coupon → exchange NPC; best early picks (Stout/Ino etc.).</p>" },
          "spirit": { title:"Spirit Pets (Fusion)", body:"<p>Fusion recipes, pros/cons vs constellation.</p>" },
          "event": { title:"Event / Gift Shop Pets", body:"<p>Blue Python pet box example and odds disclaimer.</p>" }
        }
      },
      "materials": {
        sidebar: [
          { id:"110-astoria", label:"110 Astoria Trophies" },
          { id:"115-memorite", label:"115 Memorite Fragments" },
          { id:"gold-chess", label:"Gold Chess Room" }
        ],
        pages: {
          "110-astoria": { title:"Astoria Trophies (Lv110)", body:"<p>Where to farm and expected rates.</p>" },
          "115-memorite": { title:"Peleus Memorite Fragments (Lv115)", body:"<p>Why it’s efficient; investment required.</p>" },
          "gold-chess": { title:"Gold Chess Room", body:"<p>Schedule: Tue/Fri/Sat/Sun. One free entry with Luxury Premium.</p>" }
        }
      }
    };

    // --- Basic router: section in hash (#events/recent) ---
    const tabs = document.querySelectorAll('.tab');
    const sideTitle = document.getElementById('side-title');
    const sideList = document.getElementById('side-list');
    const content = document.getElementById('content');

    function setActiveTab(section){
      tabs.forEach(t => t.setAttribute('aria-current', t.dataset.section===section? 'page':'false'));
    }

    function renderSidebar(section, page){
      const sect = STORE[section];
      sideTitle.textContent = sectionLabel(section);
      sideList.innerHTML = '';
      if(!sect) return;
      sect.sidebar.forEach(item=>{
        const li = document.createElement('li');
        li.className = 'side-item';
        const a = document.createElement('a');
        a.href = `#${section}/${item.id}`;
        a.className = 'pill';
        a.textContent = item.label;
        a.setAttribute('aria-current', item.id===page? 'true':'false');
        li.appendChild(a); sideList.appendChild(li);
      });
    }

    function renderContent(section, page){
      const sect = STORE[section];
      const data = sect?.pages?.[page];
      if(!data){ content.innerHTML = '<p class="muted">No content yet. Choose a topic from the left.</p>'; return; }
      content.innerHTML = `<h2 class="h2">${data.title}</h2>${data.body}`;
    }

    function sectionLabel(key){
      const map = {
        'events':'Events','getting-started':'Getting Started','leveling':'Leveling Up','equipments':'Equipments','pets':'Pets','materials':'Materials'
      }; return map[key]||key;
    }

    function parseHash(){
      // default to Events -> Recent
      let [section='events', page] = location.hash.replace('#','').split('/');
      if(!STORE[section]) section = 'summer-login';
      if(!page) page = STORE[section].sidebar[0].id; // first item
      return {section,page};
    }

    function navigate(section,page){
      location.hash = `#${section}/${page}`;
    }

    // Event listeners
    tabs.forEach(t=> t.addEventListener('click',()=>{
      const section = t.dataset.section;
      const first = STORE[section].sidebar[0].id;
      navigate(section, first);
    }));

    window.addEventListener('hashchange', ()=>{
      const {section,page} = parseHash();
      setActiveTab(section); renderSidebar(section,page); renderContent(section,page);
    });

    // Initial render
    (function init(){
      if(!location.hash) navigate('events','summer-login');
      const {section,page} = parseHash();
      setActiveTab(section); renderSidebar(section,page); renderContent(section,page);
    })();
  </script>
</body>
</html>
